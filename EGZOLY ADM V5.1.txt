loadstring([==[
--== [⚡EGZOLY ADM V5.1⚡ Panel Mejorado] ==--

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local Root = Character:WaitForChild("HumanoidRootPart")

-- Variables de estado
local flying, noclip, infiniteJump, fling, esp, xray, dance = false, false, false, false, false, false, false
local minimized = false
local BodyVelocity
local DanceTrack
local ESPTable = {}

-- ScreenGui
local ScreenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
ScreenGui.Name = "EGZOLY_ADM_V51"

-- Main Frame
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 380, 0, 450)
MainFrame.Position = UDim2.new(0.5, -190, 0.5, -225)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
MainFrame.ClipsDescendants = true
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0,16)

-- Gradient
local Gradient = Instance.new("UIGradient", MainFrame)
Gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0,200,255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0,120,255))
}
Gradient.Rotation = 45

-- Title Bar
local TitleBar = Instance.new("Frame", MainFrame)
TitleBar.Size = UDim2.new(1,0,0,50)
TitleBar.BackgroundTransparency = 1

local TitleLabel = Instance.new("TextLabel", TitleBar)
TitleLabel.Size = UDim2.new(1, -50, 1, 0)
TitleLabel.Position = UDim2.new(0,10,0,0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "⚡EGZOLY ADM V5.1⚡"
TitleLabel.Font = Enum.Font.FredokaOne
TitleLabel.TextScaled = true
TitleLabel.TextColor3 = Color3.fromRGB(255,255,255)

-- Minimize Button
local MinBtn = Instance.new("TextButton", TitleBar)
MinBtn.Size = UDim2.new(0,40,0,30)
MinBtn.Position = UDim2.new(1, -45, 0.5, -15)
MinBtn.BackgroundColor3 = Color3.fromRGB(0,180,255)
MinBtn.TextColor3 = Color3.fromRGB(0,0,0)
MinBtn.Text = "_"
MinBtn.Font = Enum.Font.FredokaOne
MinBtn.TextScaled = true
Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(0,6)

MinBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    for _, child in pairs(MainFrame:GetChildren()) do
        if child ~= TitleBar then child.Visible = not minimized end
    end
end)

-- Tabs
local TabFrame = Instance.new("Frame", MainFrame)
TabFrame.Size = UDim2.new(0,60,1,-50)
TabFrame.Position = UDim2.new(0,0,0,50)
TabFrame.BackgroundTransparency = 1

local SectionContainer = Instance.new("Frame", MainFrame)
SectionContainer.Size = UDim2.new(1,-60,1,-50)
SectionContainer.Position = UDim2.new(0,60,0,50)
SectionContainer.BackgroundTransparency = 1

-- Crear Secciones
local function createSection(options)
    local Section = Instance.new("Frame", SectionContainer)
    Section.Size = UDim2.new(1,0,1,0)
    Section.BackgroundTransparency = 1
    Section.Visible = false

    for i,opt in ipairs(options) do
        local Btn = Instance.new("TextButton", Section)
        Btn.Size = UDim2.new(0.9,0,0,40)
        Btn.Position = UDim2.new(0.05,0,0,(i-1)*45)
        Btn.BackgroundColor3 = Color3.fromRGB(0,200,255)
        Btn.TextColor3 = Color3.fromRGB(0,0,0)
        Btn.Font = Enum.Font.FredokaOne
        Btn.TextScaled = true
        Btn.Text = opt.." [OFF]"
        Instance.new("UICorner", Btn).CornerRadius = UDim.new(0,8)

        local toggled = false
        Btn.MouseButton1Click:Connect(function()
            toggled = not toggled
            Btn.Text = opt.." ["..(toggled and "ON" or "OFF").."]"
            if opt == "FLY" then flying = toggled
            elseif opt == "NOCLIP" then noclip = toggled
            elseif opt == "INF-J" then infiniteJump = toggled
            elseif opt == "FLING" then fling = toggled
            elseif opt == "DANCE" then dance = toggled
            elseif opt == "ESP" then esp = toggled
            elseif opt == "XRAY" then xray = toggled
            end
        end)
    end
    return Section
end

-- Crear secciones
local PXSection = createSection({"FLY","NOCLIP","INF-J"})
local TXSection = createSection({"FLING","DANCE"})
local VXSection = createSection({"ESP","XRAY"})

-- Crear Tabs
local function createTab(name,parent,section)
    local Btn = Instance.new("TextButton", parent)
    Btn.Size = UDim2.new(1,0,0,50)
    Btn.Position = UDim2.new(0,0,(#parent:GetChildren()-1)*50,0)
    Btn.BackgroundColor3 = Color3.fromRGB(0,180,255)
    Btn.Text = name
    Btn.Font = Enum.Font.FredokaOne
    Btn.TextColor3 = Color3.fromRGB(0,0,0)
    Btn.TextScaled = true
    Instance.new("UICorner", Btn).CornerRadius = UDim.new(0,8)

    Btn.MouseEnter:Connect(function() Btn.BackgroundColor3 = Color3.fromRGB(0,220,255) end)
    Btn.MouseLeave:Connect(function() Btn.BackgroundColor3 = Color3.fromRGB(0,180,255) end)

    Btn.MouseButton1Click:Connect(function()
        for _, f in pairs(SectionContainer:GetChildren()) do f.Visible = false end
        section.Visible = true
    end)
end

createTab("PX", TabFrame, PXSection)
createTab("TX", TabFrame, TXSection)
createTab("VX", TabFrame, VXSection)
PXSection.Visible = true

--== Funcionalidades ==--

-- Fly mejorado
RunService.RenderStepped:Connect(function()
    if flying then
        if not BodyVelocity then
            BodyVelocity = Instance.new("BodyVelocity", Root)
            BodyVelocity.MaxForce = Vector3.new(400000,400000,400000)
        end
        local dir = Vector3.new()
        local cam = workspace.CurrentCamera.CFrame
        if UserInputService:IsKeyDown(Enum.KeyCode.W) then dir += cam.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then dir -= cam.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then dir -= cam.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then dir += cam.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then dir += Vector3.new(0,1,0) end
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then dir -= Vector3.new(0,1,0) end
        BodyVelocity.Velocity = dir*50
    elseif BodyVelocity then BodyVelocity:Destroy(); BodyVelocity=nil end
end)

-- Noclip
RunService.Stepped:Connect(function()
    if noclip then
        for _, part in pairs(Character:GetDescendants()) do
            if part:IsA("BasePart") then part.CanCollide = false end
        end
    else
        for _, part in pairs(Character:GetDescendants()) do
            if part:IsA("BasePart") then part.CanCollide = true end
        end
    end
end)

-- Infinite Jump
UserInputService.JumpRequest:Connect(function()
    if infiniteJump then Humanoid:ChangeState(Enum.HumanoidStateType.Jumping) end
end)

-- Fling cercano mejorado
RunService.RenderStepped:Connect(function()
    if fling then
        for _, p in pairs(Players:GetPlayers()) do
            if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                local dist = (p.Character.HumanoidRootPart.Position - Root.Position).Magnitude
                if dist < 10 then
                    p.Character.HumanoidRootPart.AssemblyLinearVelocity = Vector3.new(0,200,0)
                end
            end
        end
    end
end)

-- Dance optimizado
local Animations = {180435571,180435334,125750702}
RunService.RenderStepped:Connect(function()
    if dance then
        if not DanceTrack then
            local DanceAnim = Instance.new("Animation")
            DanceAnim.AnimationId = "rbxassetid://"..Animations[math.random(1,#Animations)]
            DanceTrack = Humanoid:LoadAnimation(DanceAnim)
            DanceTrack.Looped = true
            DanceTrack:Play()
        end
    else
        if DanceTrack then
            DanceTrack:Stop()
            DanceTrack = nil
        end
    end
end)

-- ESP básico
local function createESP(player)
    if ESPTable[player] then return end
    local Billboard = Instance.new("BillboardGui")
    Billboard.Adornee = player.Character and player.Character:FindFirstChild("Head")
    Billboard.Size = UDim2.new(0,100,0,20)
    Billboard.AlwaysOnTop = true
    Billboard.Name = "ESP_BB"
    local Label = Instance.new("TextLabel", Billboard)
    Label.Size = UDim2.new(1,0,1,0)
    Label.Text = player.Name
    Label.BackgroundTransparency = 1
    Label.TextColor3 = Color3.fromRGB(0,255,0)
    Label.TextScaled = true
    Billboard.Parent = game:GetService("CoreGui")
    ESPTable[player] = Billboard
end

local function removeESP(player)
    if ESPTable[player] then
        ESPTable[player]:Destroy()
        ESPTable[player] = nil
    end
end

Players.PlayerAdded:Connect(function(plr)
    plr.CharacterAdded:Connect(function()
        if esp then createESP(plr) end
    end)
end)

Players.PlayerRemoving:Connect(function(plr)
    removeESP(plr)
end)

RunService.RenderStepped:Connect(function()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            if esp then
                if not ESPTable[plr] then
                    if plr.Character and plr.Character:FindFirstChild("Head") then
                        createESP(plr)
                    end
                else
                    ESPTable[plr].Adornee = plr.Character and plr.Character:FindFirstChild("Head")
                end
            else
                removeESP(plr)
            end
        end
    end
end)

print("⚡EGZOLY ADM V5.1⚡ cargado correctamente!")
]==])